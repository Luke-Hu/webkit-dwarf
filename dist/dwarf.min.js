/*! webkit-dwarf Copyright(c) 2013 Daniel Yang <miniflycn@gmail.com> MIT Licensed */
!function(a){var b=document.getElementsByTagName("head")[0],c,d={},e,f,g=/\/\.\//g,h=/\/[^/]+\/\.\.\//,i=/([^:/])\/\//g;function j(a){return"function"==typeof a}function k(a,b){return l(b)?b:m(b)?n(a,b)+".js":b}function l(a){return/^https?:|^file:|^\/|\.js$/.test(a)}function m(a){return 0===(a+"").indexOf(".")}function n(a,b){b=a.substring(0,a.lastIndexOf("/")+1)+b,b=b.replace(g,"/");while(b.match(h))b=b.replace(h,"/");return b=b.replace(i,"$1/")}var o=function(){var a={};return{get:function(b){return a[b]},set:function(b,c){return b in a?!1:(a[b]=c,!0)}}}(),p=function(){var a=[];return{push:function(){return a.push.apply(a,arguments)},make:function(b){a.forEach(function(a){var c=k(b,a.m),d=a.d,e=a.f;return r({base:b})(d,function(){var a=o.get(c);return a||(a=new q(c,!0),o.set(c,a)),!a.loaded&&a.set(e)},0,!0)}),a.length=0}}}();function q(a,b){l(a)||(a=d[a]),!b&&this.load(a),this.path=a,this.succList=[],this.failList=[]}q.prototype={constructor:q,load:function(a){var d=document.createElement("script"),f=this;d.addEventListener("load",g,!1),d.addEventListener("error",h,!1),d.type="text/javascript",d.async="async",d.src=a,b.appendChild(d);function g(){return i(),p.make(f.path)}function h(){return i(),b.removeChild(d),c&&!~a.indexOf(e)?f.load(a.replace(c,e)):f.down()}function i(){d.removeEventListener("load",g,!1),d.removeEventListener("error",h,!1)}},_unshift:function(a,b){return a.some(function(a){return a===b})?void 0:a.unshift(b)},succ:function(a){return this._unshift(this.succList,a)},fail:function(a){return this._unshift(this.failList,a)},done:function(){this.loaded=!0,this.succList.forEach(function(a){return a()})},down:function(){this.failList.forEach(function(a){return a()})},require:function(){if(this.factory){var a={exports:{}};return this.factory(r({base:this.path}),a.exports,a),this.exports=a.exports,this.require=function(){return this.exports},this.require()}return new Error("script has not loaded.")},set:function(a){return this.factory=a,this.done()}};function r(a){var b=a.base;function c(a,c,d,e){var f;if(!c){var g=k(b,a),h=o.get(g);if(h.loaded)return h.require();throw new Error("script has not loaded.")}function i(){var g=[];a.forEach(function(a,c){var e=k(b,a),f=o.get(e);f||(f=new q(e),o.set(e,f)),f.loaded||(g.push(a),f.succ(i),d&&f.fail(d))}),a=g,a.length||f||(f=!0,e?c():setTimeout(c,0))}i()}return c}function s(a,b,c){if(!c){if(j(b))c=b;else{var d=b;c=function(a,b,c){return c.exports=d}}b=[]}p.push({m:a,d:b,f:c})}function t(a){c=void 0===a.base?c:a.base,d=a.path||d}var u=a.require=function(){return f?f.apply(a,arguments):(p.make(c||location.href),c?(f=r({base:c}),e=location.href):f=r({base:location.href}),f.apply(a,arguments))};u.opt=t,u.makeRequire=r,a.define=s}(window);
//# sourceMappingURL=dwarf.min.js.map